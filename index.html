<!DOCTYPE html>
<html lang="es">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Algoritmos de Gráficos - Demostraciones</title>

    <link rel="stylesheet" href="./styles/main.css">

    <!-- Highlight.js CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/vs2015.min.css">

    <!-- Font Awesome para icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <main>
        <header class="page-header">
            <h1 class="page-title">Algoritmos de Computación Gráfica</h1>
            <p class="page-subtitle">Demostraciones interactivas de los principales algoritmos</p>
        </header>

        <!-- DEMO 1: Línea con Interpolación de Color -->
        <section class="demo-container">

            <!-- Título --->
            <div class="demo-header">
                <div class="demo-title">1. Línea con Interpolación RGB y Grosor Dinámico</div>
                <div class="demo-description">Algoritmo DDA/Bresenham con transición de color y control de grosor</div>
            </div>
            
            <!-- Botones de Tab --->
            <div class="demo-tabs">
                <button class="tab-button active">📚 Explicación</button>
                <button class="tab-button">📝 Código</button>
                <button class="tab-button">🎥 Demostración</button>
            </div>
            
            <!-- Explicación --->
            <div id="linea-explicacion" class="demo-content active">
                <div class="explanation-content">
                    <h3 class="explanation-title">Explicación del Algoritmo</h3>
                    <p><strong>Objetivo:</strong> Dibujar una línea entre dos puntos con interpolación de color RGB y grosor dinámico.</p>
                    <br>

                    <h4>Características implementadas:</h4>
                    <ul class="feature-list">
                        <li><strong>Algoritmo DDA</strong>: Calcula incrementos fraccionarios para suavizar la línea</li>
                        <li><strong>Interpolación RGB</strong>: Transición lineal entre dos colores cualquiera</li>
                        <li><strong>Grosor dinámico</strong>: Expansión de píxeles alrededor de la línea base</li>
                    </ul>

                    <h4>Algoritmo DDA:</h4>
                    <ul class="feature-list">
                        <li>Calculamos dx y dy (diferencias en x e y).</li>
                        <li>Determinamos los pasos según la mayor diferencia.</li>
                        <li>Calculamos incrementos en x e y por paso.</li>            
                        <li>Iteramos, dibujando un círculo en cada punto con:</li>
                        <li>Color: Interpolamos el canal B de 0 a 255.</li>             
                        <li>Grosor: Interpolamos el radio de 3 a 20 píxeles.</li>               
                    </ul>

                    <h4>Requerimientos de Demostración</h4>
                    <ul class="feature-list">
                        <li>Tener <strong>Python</strong> instalado: Este algotirmo está desarrollado en Python</li>
                        <li>Instalar <strong>pygame</strong></li>
                        <li>Instalar <strong>pygame_gui</strong></li>
                    <br>
                </div>
            </div>

            <!-- Código fuente --->
            <div id="linea-codigo" class="demo-content">
                <pre class="code-block">
                    <code></code>
                </pre>
            </div>
            
            <!-- Video demostrativo --->
            <div id="linea-demo" class="demo-content">
                <div class="video-container">
                    <video class="demo-video" controls poster="thumbnails/linea-thumb.jpg">
                        <source src="./ejercicios/ejercicio1/demo_ejercicio-1_H264.mp4" type="video/mp4">
                    </video>

                    <div class="video-caption">Demostración: Línea con interpolación de color RGB y grosor variable</div>
                </div>
            </div>
            
        </section>
        
        <!-- DEMO 2: Algoritmo de Elipse -->
        <!-- TODOLIST: 
            1. Actualizar código
            2. Actualizar video
            3. Terminar la explicación
        -->
        <section class="demo-container">
            
            <!-- Título --->
            <div class="demo-header">
                <div class="demo-title">2. Algoritmo de Elipse con Punto Medio</div>
                <div class="demo-description">
                    <p>Implementación eficiente usando simetría de cuadrantes</p>

                    <a href="https://github.com/dalaiboada" target="_blank"> 
                        <i class="fa-brands fa-github"></i>
                        Dalai Boada 
                    </a>
                </div>
            </div>
            
            <!-- Botones de Tab --->
            <div class="demo-tabs">
                <button class="tab-button active">📚 Explicación</button>
                <button class="tab-button">📝 Código</button>
                <button class="tab-button">🎥 Demostración</button>
            </div>
            
            <!-- Explicación --->
            <div id="elipse-explicacion" class="demo-content active">
                <div class="explanation-content">
                    <h3 class="explanation-title">Explicación del Algoritmo</h3>
                    <p><strong>Objetivo:</strong> Dibuja la elipse con semiejes a y b usando el algoritmo del punto medio</p>
                    
                    <br>
                    <p>El <strong>Algoritmo del Punto Medio para circunferencias</strong> es un algoritmo usado para determinar los puntos necesarios para rasterizar una circunferencia.</p>
                    <p>Y al igual que el <strong>algoritmo de Bresenham para líneas</strong>, utiliza pura aritmética entera para ser muy eficiente</p>
                    <p>El objetivo del algoritmo es, para un punto (x,y) ya dibujado, decidir cuál de los dos píxeles posibles es el siguiente a dibujar</p>

                    <br>
                    <p>Este ejercicio es muy similar a la circunferencia, pero con dos radios distintos</p>
                    <p>Se aprovecha la simetría de las elipses. Una elipse es simétrica en dos ejes, lo que nos permite calcular solo los puntos para una octava parte del contorno y luego reflejar esos puntos para completar la figura.</p>
                    <br>

                    <img src="./ejercicios/ejercicio2/midpoint_circle_algorithm_animation_full.gif" alt="Ejemplo Visual del Algoritmo del Punto Medio" style="max-width: 100%; height: auto; border: 1px solid #ccc; border-radius: 5px; margin: 10px;">

                    <h4>Algoritmo</h4>
                    <ul class="feature-list">
                        <li>Se capturan el radio r y el centro de la circunferencia (xc, yc).</li>
                        <li>Se obtiene el primer punto de la circunferencia centrada en origen (xc, yc) como (0, r).</li>
                        <li>Se calcula el valor inicial del parámetro de decisión como p0=5/4 - r.
                            Para k=0 hasta x>=y incrementa k
                                Si pk < 0 
                                *Siguiente punto de la circunferencia con centro (0,0) es (xk+1, yk).
                                *pk+1=pk+2xk+1+1.
                                Sino
                                    *Siguiente punto de la circunferencia con centro (0,0) es (xk+1, yk-1).
                                *pk+1=pk+2xk+1+1-2yk+1.
                                //Donde 2xk+1=2xk+2  y  2yk+1=2yk-2
                        </li>
                        <li>Se determinan los puntos de simetría para los otros siete octantes.</li>
                        <li>Se mueve cada posición del pixel calculada (x,y) a la trayectoria circular centrada en (xc, yc) 
   y trazamos los valores de las coordenadas: x=x+xc y y=y+yc.</li>
                        <li>Fin del para</li>

                        <li>Dada una elipse con centro (xc,yc) y radios a (eje x) y b (eje y):</li>
                        <li>Comienza en (x=0,y=b) en el primer cuadrante.</li>
                        <li>Calcula un valor de decisión inicial.</li>
                        <li>En cada paso, evalúa el signo de un nuevo parámetro de decisión para elegir entre mover el píxel hacia el este (E) o hacia el sureste (SE).
</li>
                        <li>Refleja el píxel elegido en los otros tres cuadrantes.</li>
                        
                    </ul>
                    <br>
                    <div id="post-container"></div>
                </div>
            </div>

            <!-- Código fuente --->
            <div id="elipse-codigo" class="demo-content">
                <pre class="code-block">
                    <code></code>
                </pre>
            </div>
            
            <!-- Demostración --->
            <div id="elipse-demo" class="demo-content">
                <div class="video-container">
                    <video class="demo-video" controls poster="thumbnails/elipse-thumb.jpg">
                        <source src="./ejercicios/ejercicio2/demo_ejercicio-2.mp4" type="video/mp4">
                    </video>

                    <div class="video-caption">Demostración: Generación de elipses con diferentes parámetros</div>
                </div>

                <div class="resources-container">
                    <div class="title-container-resources">
                        <h4 class="title-resources">🚀 Descarga y Experimenta</h4>

                        <div class="description-resources">
                            <p>Estos materiales complementan la explicación del ejercicio.</p> 
                            <p>Adquiere el proyecto completo o experimenta con la demo en online.</p>
                        </div>
                    </div>

                    <div class="grid-container-resources">   
                        <a href="./ejercicios/ejercicio2/interfaz_elipse.py" 
                            download="Ejercicio-2-elipse(py)_Algotirmo-Punto-Medio.py"
                            class="card-resources">
                            
                            <div class="icon-bg color-rosa">
                                <i class="fa-solid fa-file-arrow-down"></i>
                            </div>
                            
                            <div class="card-content">
                                <h4>Descarga el Código Fuente</h3>
                                <p>Accede al proyecto completo en Python/C++ y revisa el algoritmo de punto medio.</p>
                            </div>
                        </a>
                        
                        <a href="./pages/ellipse.html" target="_blank" rel="noopener noreferrer" 
                            class="card-resources">
                            
                            <div class="icon-bg color-amarillo">
                                <i class="fas fa-draw-polygon"></i>
                            </div>
                            
                            <div class="card-content">
                                <h4>Prueba la Demo Interactiva</h3>
                                <p>Dibuja tu propio elipse en un canvas, ingresando los parámetros en el navegador.</p>
                            </div>
                        </a>

                    </div>
                </div>

            </div>

        </section>
        
        <!-- DEMO 3: CIRCUNFERENCIAS -->
        <section class="demo-container">

            <!-- Título --->
            <div class="demo-header">
                <div class="demo-title">3. Circunferencias</div>
                <div class="demo-description">Determinar si puntos forman una circunferencia (centro y radio)</div>
            </div>
            
            <!-- Botones de Tab --->
            <div class="demo-tabs">
                <button class="tab-button active">📚 Explicación</button>
                <button class="tab-button">📝 Código</button>
                <button class="tab-button">🎥 Demostración</button>
            </div>
            
            <!-- Explicación --->
            <div id="circunference-explicacion" class="demo-content active">
                <div class="explanation-content">
                    <h3 class="explanation-title">Explicación del Algoritmo</h3>
                    <p>Su estructura es que define un punto en el plano con coordenadas X y Y.</p>
                    <br>

                    <h4>Sus funciones claves son: </h4>
                    <ol class="feature-list">
                        <li>Verifica si 3 puntos a,b y c están alineados, es decir, si son colineales.</li>
                        <li>Usa el determinante de área del triángulo formado por los 3 puntos.</li>
                        <li>Si el área es casi cero, los puntos son colineales.</li>
                        <li>Luego calcula el centro y radio de la circunferencia que pasa por 3 puntos no colineales y usa fórmulas geométricas para encontrar centro y radio.</li>
                        <li>Verifica si un punto p está sobre la circunferencia definida por centro y radio.</li>
                        <li>Calcula la distancia entre p, el centro y compara con el radio.</li>
                    </ol>
                    <br>

                    <h3>Lógica</h3>

                    <h4>En su entrada:</h4>
                    <ul class="feature-list">
                        <li>Pide al usuario el número de puntos n.</li>
                        <li>Si n&lt;3, no se puede definir una circunferencia.</li>
                    </ul>
                    <br>

                    <h4>En su lectura de puntos:</h4>
                    <ul class="feature-list">
                        <li>Guarda los puntos en un vector&lt;punto&gt;.</li>
                    </ul>
                    <br>

                    <h4>Verificación de colinealidad:</h4>
                    <ul class="feature-list">
                        <li>Comprueba si los primeros 3 puntos son colineales.</li>
                        <li>Si no lo son, no se puede definir una circunferencia.</li>
                    </ul>
                    <br>

                    <h4>Cálculo de circunferencia:</h4>
                    <ul class="feature-list">
                        <li>Calcula el centro y radio usando los primeros 3 puntos.</li>
                    </ul>
                    <br>

                    <h4>Verificación de pertenencias:</h4>
                    <ul class="feature-list">
                        <li>Recorre los puntos restantes y verifica si está sobre la circunferencia.</li>
                        <li>Si alguno no lo está, se indica que no todos pertenecen a la misma circunferencia.</li>
                    </ul>
                    <br>

                    <h4>Salida:</h4>
                    <ul class="feature-list">
                        <li>Muestra si todos los puntos están en la misma circunferencia y si es así, imprime su centro y radio.</li>
                    </ul>
                    <br>
                </div>
            </div>

            <!-- Código fuente --->
            <div id="circunference-codigo" class="demo-content">
                <pre class="code-block">
                    <code data-extension="cpp"></code>
                </pre>
            </div>
            
            <!-- Video demostrativo --->
            <div id="circunference-demo" class="demo-content">
                <div class="video-container">
                    <video class="demo-video" controls>
                        <source src="./ejercicios/ejercicio3/demo_ejercicio-3_H264.mp4" type="video/mp4">
                    </video>

                    <div class="video-caption">Demostración: A partir de n>2 coordenadas determina si es una circunferencia</div>
                </div>
            </div>

        </section>

        <!-- DEMO 4: ÁRBOL FRACTAL -->
        <section class="demo-container">

            <!-- Título --->
            <div class="demo-header">
                <div class="demo-title">4. Árbol Fractal</div>
                <div class="demo-description">Figura fractal usando múltiples circunferencias</div>
            </div>
            
            <!-- Botones de Tab --->
            <div class="demo-tabs">
                <button class="tab-button active">📚 Explicación</button>
                <button class="tab-button">📝 Código</button>
                <button class="tab-button">🎥 Demostración</button>
            </div>
            
            <!-- Explicación --->
            <div id="fractal-explicacion" class="demo-content active">
                <div class="explanation-content">
                    <h3 class="explanation-title">Explicación del Algoritmo</h3>
                    <p><strong>Objetivo:</strong> Dibujar una figura fractal con forma de flor utilizando circunferencias y elipses concéntricas, generadas recursivamente</p>
                    <br>

                    <h4>Descripción General</h4>
                    <p>El algoritmo usa recursión para crear una flor principal y, en la punta de cada pétalo, generar flores más pequeñas.</p>
                    <p>Cada nivel mantiene la misma estructura, pero con menor tamaño y un color ligeramente distinto, creando un patrón fractal.</p>
                    <br>

                    <h3>Pasos principales</h3>
                    <ul class="feature-list">
                        <li><strong>Inicialización del lienzo:</strong> Se crea una ventana de Tkinter con un Canvas donde se dibuja la figura y un panel lateral con controles para ajustar el radio, la cantidad de pétalos y la profundidad.</li>
                        <li>
                            <ul><strong>Función draw_flower():</strong> 
                                <li>Dibuja anillos concéntricos en el centro de la flor.</li>
                                <li>Calcula la posición de cada pétalo usando funciones trigonométricas (sin, cos).</li>
                                <li>Dibuja elipses como pétalos dispuestas radialmente.</li>
                                <li>En cada pétalo, se invoca recursivamente draw_flower() con un radio reducido, generando flores hijas.</li>
                            </ul>
                        </li>
                        <li><strong>Colores:</strong> Se emplea el modelo HSV (matiz, saturación, brillo) para variar los tonos de forma progresiva y convertirlos a formato hexadecimal (#rrggbb).</li>
                        <li><strong>Controles interactivos:</strong> Los sliders permiten modificar los valores de radio, profundidad y pétalos, actualizando la figura al presionar “Redibujar”.</li>
                    </ul>
                    <br>

                    <h3>Conceptos Clave:</h3>
                    <ul class="feature-list">
                        <li><strong>Recursión:</strong> Cada pétalo genera una flor hija más pequeña.</li>
                        <li><strong>Simetría radial:</strong> Los pétalos se distribuyen uniformemente en torno al centro.</li>
                        <li><strong>Escalado progresivo:</strong> El tamaño disminuye en cada nivel.</li>
                        <li><strong>Color en HSV:</strong> Produce degradados suaves y armónicos.</li>
                    </ul>
                    <br>

                    <h3>Requisitos para ejecutar el sistema:</h3>
                    <ul class="feature-list">
                        <li>Python 3.7 o superior</li>
                        <li>No requiere librerías externas: Solo se usan los módulos estándar <strong>tkinter</strong>, <strong>math</strong> y <strong>colorsys</strong>.</li>
                    </ul>
                    <br>

                </div>
            </div>

            <!-- Código fuente --->
            <div id="fractal-codigo" class="demo-content">
                <pre class="code-block">
                    <code data-extension="py"></code>
                </pre>
            </div>
            
            <!-- Video demostrativo --->
            <div id="fractal-demo" class="demo-content">
                <div class="video-container">
                    <video class="demo-video" controls>
                        <source src="./ejercicios/ejercicio4/demo_ejercicio-4_H264.mp4" type="video/mp4">
                    </video>

                    <div class="video-caption">Demostración: A partir de n>2 coordenadas determina si es una circunferencia</div>
                </div>
            </div>

        </section>

        <!-- Mensaje para videos no disponibles -->
        <div style="background: #fff3cd; border: 1px solid #ffeaa7; padding: 20px; border-radius: 5px; margin-top: 30px;">
            <strong>📹 Nota:</strong> Los videos de demostración se incluirán posteriormente. Por ahora, los contenedores están listos para cuando grabemos las demostraciones.
        </div>

    </main>
    
    <script src="./scripts/main.js" type="module"></script>

    <!-- Highlight.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>

    <!-- Lenguajes específicos -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/cpp.min.js"></script>
</body>
</html>